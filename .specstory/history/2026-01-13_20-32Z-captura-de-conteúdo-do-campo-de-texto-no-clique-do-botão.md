<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session 4a35da07-6930-4330-b050-d6288e87f864 (2026-01-13 20:32Z) -->

# Captura de conte√∫do do campo de texto no clique do bot√£o (2026-01-13 20:32Z)

_**User (2026-01-13 20:25Z)**_

Como podemos colocar um bot√£o do lado de um campo do tipo text, e que possamos capturar o conteudo do campo no evento do click deste bot√£o? 

---

_**Agent (model claude-4.5-sonnet-thinking, mode Ask)**_

<think><details><summary>Thought Process</summary>
O usu√°rio est√° perguntando como colocar um bot√£o ao lado de um campo do tipo text, e capturar o conte√∫do do campo no evento de click deste bot√£o. Ele est√° trabalhando com um projeto de formul√°rios din√¢micos.

Primeiro, preciso entender a estrutura atual do projeto para dar uma resposta adequada. Vou ler o arquivo que est√° aberto, que parece ser a interface de configura√ß√£o do formul√°rio.</details></think>

---

Vou analisar a estrutura atual do seu projeto de formul√°rios din√¢micos para entender como podemos adicionar essa funcionalidade.

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: E:\dev\vip-dynamic-form\projects\dynamic-form\src\lib\interfaces\form-config.interface.ts</summary>

</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>
Agora entendo a estrutura. Ele tem um sistema de formul√°rio din√¢mico com v√°rios tipos de controle. Para adicionar um bot√£o ao lado de um campo text e capturar o conte√∫do, precisamos:

1. Adicionar uma nova propriedade na interface que permita definir um bot√£o (a√ß√£o) associado ao campo
2. Ver como os campos s√£o renderizados atualmente

Vou buscar pelos componentes que renderizam esses campos para entender melhor a implementa√ß√£o atual.</details></think>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">
<details>
                <summary>Tool use: **codebase_search** ‚Ä¢ Searched codebase "Como s√£o renderizados os campos do formul√°rio din√¢mico, especialmente campos do tipo text?" ‚Ä¢ **14** results</summary>
            
| File | Lines |
|------|-------|
| `projects/dynamic-form/src/lib/components/dynamic-form/dynamic-form.component.html` | L23 |
| `projects/dynamic-form/src/lib/fields/input-text-field.component.ts` | L39 |
| `docs/dynamic-form.md` | L223-265 |
| `projects/dynamic-form/src/lib/interfaces/form-config.interface.ts` | L4-96 |
| `projects/dynamic-form/src/lib/fields/textarea-field.component.ts` | L47 |
| `projects/dynamic-form/src/lib/components/dynamic-form/dynamic-form.component.ts` | L13-179 |
| `docs/dynamic-form.md` | L91-112 |
| `projects/dynamic-form/src/lib/components/dynamic-form/dynamic-form.component.ts` | L14-179 |
| `docs/dynamic-form.md` | L53-93 |
| `docs/dynamic-form.md` | L194-212 |
| `docs/dynamic-form.md` | L140-199 |
| `docs/dynamic-form.md` | L210-225 |
| `projects/dynamic-form/README.md` | L71-159 |
| `projects/dynamic-form/src/lib/fields/select-field.component.ts` | L46 |

</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>
Perfeito! Agora entendo a estrutura. Vejo que:

1. A interface `iFormConfig` define a configura√ß√£o de cada campo
2. Os campos s√£o renderizados atrav√©s de componentes espec√≠ficos (como `InputTextFieldComponent`)
3. O sistema usa PrimeNG para os componentes de UI

Para adicionar um bot√£o ao lado de um campo text, h√° algumas abordagens:

**Op√ß√£o 1: Adicionar propriedades na interface `iFormConfig`** para permitir configurar um bot√£o de a√ß√£o que pode ser renderizado ao lado do campo. Isso √© mais gen√©rico e reutiliz√°vel.

**Op√ß√£o 2: Criar um novo tipo de campo customizado** (por exemplo, 'text-with-button') usando o sistema de registro de campos customizados.

Vou sugerir a Op√ß√£o 1, que √© mais flex√≠vel e permite adicionar bot√µes a qualquer tipo de campo. Vou propor:

1. Adicionar propriedades na interface para configurar o bot√£o
2. Modificar o componente de input text para suportar o bot√£o
3. Criar um evento para capturar o clique

Mas o usu√°rio est√° no modo "ask", ent√£o vou fornecer exemplos e explica√ß√µes de como fazer isso.</details></think>

---

Perfeito! Entendi a estrutura do seu projeto. Vou propor uma solu√ß√£o para adicionar um bot√£o ao lado de um campo text com captura do conte√∫do. Existem duas abordagens principais:

## **Abordagem 1: Adicionar Propriedades na Interface (Mais Flex√≠vel)**

Esta abordagem permite adicionar bot√µes a qualquer tipo de campo existente.

### 1. Atualizar a Interface `iFormConfig`

Adicione as seguintes propriedades na interface:

```typescript
export interface iFormConfig {
  // ... propriedades existentes ...
  
  /**
   * Configura√ß√£o de um bot√£o de a√ß√£o ao lado do campo.
   */
  actionButton?: {
    /**
     * √çcone do bot√£o (usando PrimeIcons). Ex: 'pi pi-search'
     */
    icon?: string;
    /**
     * Label do bot√£o (se n√£o houver √≠cone)
     */
    label?: string;
    /**
     * Tooltip do bot√£o
     */
    tooltip?: string;
    /**
     * Posi√ß√£o do bot√£o: 'left' | 'right'. Default: 'right'
     */
    position?: 'left' | 'right';
    /**
     * Nome do evento customizado a ser emitido
     */
    eventName: string;
  };
}
```

### 2. Atualizar o Componente `InputTextFieldComponent`

```typescript
import { ChangeDetectionStrategy, Component, input, output } from '@angular/core';
import { FormGroup, ReactiveFormsModule } from '@angular/forms';
import { IftaLabelModule } from 'primeng/iftalabel';
import { InputTextModule } from 'primeng/inputtext';
import { ButtonModule } from 'primeng/button';
import { TooltipModule } from 'primeng/tooltip';

import { iFormConfig } from '../interfaces/form-config.interface';

@Component({
  selector: 'vp-input-text-field',
  standalone: true,
  imports: [
    ReactiveFormsModule, 
    IftaLabelModule, 
    InputTextModule,
    ButtonModule,
    TooltipModule
  ],
  changeDetection: ChangeDetectionStrategy.OnPush,
  template: `
    <div [formGroup]="form()">
      <p-iftalabel>
        @if (field().actionButton?.position === 'left') {
          <button 
            pButton 
            type="button"
            [icon]="field().actionButton?.icon || ''"
            [label]="field().actionButton?.label || ''"
            [pTooltip]="field().actionButton?.tooltip || ''"
            (click)="handleButtonClick()"
            class="action-button left"
          ></button>
        }
        
        <input 
          pInputText 
          [id]="field().key" 
          [type]="field().controlType" 
          [formControlName]="field().key" 
          [placeholder]="field().placeholder || ''" 
        />
        
        @if (!field().actionButton || field().actionButton?.position !== 'left') {
          @if (field().actionButton) {
            <button 
              pButton 
              type="button"
              [icon]="field().actionButton?.icon || ''"
              [label]="field().actionButton?.label || ''"
              [pTooltip]="field().actionButton?.tooltip || ''"
              (click)="handleButtonClick()"
              class="action-button right"
            ></button>
          }
        }
        
        <label [for]="field().key">{{ field().label }}</label>
      </p-iftalabel>
    </div>
  `,
  styles: [
    `
      :host {
        display: block;
        width: 100%;
      }
      p-iftalabel {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        width: 100%;
      }
      input {
        flex: 1;
      }
      .action-button {
        flex-shrink: 0;
      }
    `,
  ],
})
export class InputTextFieldComponent {
  form = input.required<FormGroup>();
  field = input.required<iFormConfig>();
  
  // Output para emitir eventos de a√ß√£o
  fieldAction = output<{ key: string; value: any; eventName: string }>();

  handleButtonClick(): void {
    const control = this.form().get(this.field().key);
    const value = control?.value;
    
    this.fieldAction.emit({
      key: this.field().key,
      value: value,
      eventName: this.field().actionButton?.eventName || 'action'
    });
  }
}
```

### 3. Atualizar o `DynamicFormComponent`

No componente principal, voc√™ precisa propagar o evento:

```typescript
// No template dynamic-form.component.html
<ng-container
  [ngComponentOutlet]="fieldComponent"
  [ngComponentOutletInputs]="{ 
    form: form, 
    field: field 
  }"
  (fieldAction)="handleFieldAction($event)"
/>
```

```typescript
// No arquivo .ts
export class DynamicFormComponent implements OnInit {
  // ... c√≥digo existente ...
  
  // Novo output para eventos de a√ß√£o dos campos
  fieldAction = output<{ key: string; value: any; eventName: string }>();
  
  handleFieldAction(event: { key: string; value: any; eventName: string }): void {
    this.fieldAction.emit(event);
  }
}
```

### 4. Uso no Componente Pai

```typescript
// No seu componente que usa o dynamic-form
@Component({
  template: `
    <vp-dynamic-form 
      [config]="formConfig" 
      (fieldAction)="onFieldAction($event)"
    />
  `
})
export class MeuComponente {
  formConfig: iFormConfig[] = [
    {
      key: 'search',
      controlType: 'text',
      label: 'Buscar',
      placeholder: 'Digite para buscar...',
      actionButton: {
        icon: 'pi pi-search',
        tooltip: 'Buscar',
        eventName: 'search',
        position: 'right'
      }
    },
    {
      key: 'cep',
      controlType: 'text',
      label: 'CEP',
      placeholder: 'Digite o CEP',
      actionButton: {
        label: 'Buscar',
        tooltip: 'Buscar endere√ßo',
        eventName: 'searchCep',
        position: 'right'
      }
    }
  ];

  onFieldAction(event: { key: string; value: any; eventName: string }): void {
    console.log('A√ß√£o do campo:', event);
    
    if (event.eventName === 'search') {
      console.log('Buscando por:', event.value);
      // L√≥gica de busca aqui
    } else if (event.eventName === 'searchCep') {
      console.log('Buscando CEP:', event.value);
      // L√≥gica de busca de CEP aqui
    }
  }
}
```

## **Abordagem 2: Criar Campo Customizado**

Alternativamente, voc√™ pode criar um novo tipo de campo usando o sistema de registro:

```typescript
// text-with-button-field.component.ts
@Component({
  selector: 'vp-text-with-button-field',
  standalone: true,
  // ... similar ao exemplo acima
})
export class TextWithButtonFieldComponent {
  // Implementa√ß√£o similar
}

// No seu app.component.ts ou onde inicializa
constructor(private fieldRegistry: FieldRegistryService) {
  this.fieldRegistry.registerField('text-with-button', TextWithButtonFieldComponent);
}
```

---

## **Recomenda√ß√£o**

Recomendo a **Abordagem 1**, pois:
- ‚úÖ Mais flex√≠vel - permite adicionar bot√µes a qualquer campo
- ‚úÖ N√£o duplica c√≥digo
- ‚úÖ Mant√©m a simplicidade do sistema
- ‚úÖ Escal√°vel para outros tipos de campo

**Voc√™ est√° no modo Ask. Para implementar essas mudan√ßas, mude para o modo Agent.**

Gostaria que eu detalhe alguma parte espec√≠fica ou prefere que implemente quando voc√™ mudar para o modo Agent?

---

_**User (2026-01-13 20:25Z)**_

De exemplo de como podemos criar o campo customizado, desde a cria√ß√£o do componente e o registro dele, tamb√©m como obter a informa√ß√£o atrav√©s do click do bot√£o vinculado

---

_**Agent (model claude-4.5-sonnet-thinking, mode Ask)**_

<think><details><summary>Thought Process</summary>
O usu√°rio quer um exemplo completo de como criar um campo customizado com um bot√£o, desde a cria√ß√£o do componente at√© o registro e como capturar o evento do bot√£o. Vou fornecer um exemplo detalhado e completo.

Preciso buscar mais informa√ß√µes sobre:
1. Como funciona o FieldRegistryService
2. Estrutura do projeto para entender onde criar os arquivos
3. Exemplos de outros campos para manter a consist√™ncia

Vou buscar essas informa√ß√µes primeiro.</details></think>

---

Vou buscar mais informa√ß√µes sobre o sistema de registro de campos customizados para fornecer um exemplo completo.

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">
<details>
                <summary>Tool use: **codebase_search** ‚Ä¢ Searched codebase "Como funciona o FieldRegistryService para registrar campos customizados?" ‚Ä¢ **14** results</summary>
            
| File | Lines |
|------|-------|
| `projects/dynamic-form/src/lib/services/field-registry.service.ts` | L46 |
| `projects/dynamic-form/README.md` | L311-373 |
| `docs/dynamic-form.md` | L223-265 |
| `projects/dynamic-form/src/lib/components/dynamic-form/dynamic-form.component.ts` | L14-179 |
| `README.md` | L112-165 |
| `projects/dynamic-form/src/lib/components/dynamic-form/dynamic-form.component.ts` | L13-179 |
| `docs/dynamic-form.md` | L53-93 |
| `docs/dynamic-form.md` | L914-928 |
| `projects/dynamic-form/src/public-api.ts` | L20-27 |
| `projects/dynamic-form/src/lib/components/dynamic-form/dynamic-form.component.ts` | L179 |
| `CHANGELOG.md` | L42 |
| `docs/dynamic-form.md` | L91-112 |
| `docs/dynamic-form.md` | L27-57 |
| `projects/dynamic-form/src/lib/interfaces/form-config.interface.ts` | L4-96 |

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="file_search">
<details>
            <summary>Tool use: **file_search** ‚Ä¢ Searched codebase "field-registry.service" ‚Ä¢ **1** results</summary>
        
| File |
|------|
| `e:\dev\vip-dynamic-form\projects\dynamic-form\src\lib\services\field-registry.service.ts` |

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_dir** ‚Ä¢ Listed directory, 0 results</summary>
        
No results found
</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>
Perfeito! Agora tenho todas as informa√ß√µes necess√°rias. Vou fornecer um exemplo completo de como criar um campo customizado com um bot√£o. Vou criar um campo "text-with-button" que pode ser usado para buscas, CEP, etc.

O exemplo incluir√°:
1. O componente do campo customizado
2. Como registrar o campo
3. Como usar no formul√°rio
4. Como capturar o evento do bot√£o</details></think>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: projects/dynamic-form/src/lib/components/dynamic-form/dynamic-form.component.ts</summary>

</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>
Agora tenho todas as informa√ß√µes. Vou criar um exemplo completo que inclui:

1. O componente do campo customizado (text-with-button-field.component.ts)
2. Como registrar esse campo no app
3. Como usar no formul√°rio
4. Como capturar o evento do bot√£o

Vou criar um exemplo pr√°tico de busca de CEP, que √© um caso de uso comum.</details></think>

---

Perfeito! Vou criar um exemplo completo de um campo customizado com bot√£o. Vou usar um caso pr√°tico: um campo de busca de CEP com bot√£o.

## üìã Exemplo Completo: Campo Text com Bot√£o

### 1Ô∏è‚É£ Criar o Componente Customizado

Crie o arquivo `text-with-button-field.component.ts` dentro da pasta `src/lib/fields/` ou na sua aplica√ß√£o:

```typescript
import { ChangeDetectionStrategy, Component, input, output } from '@angular/core';
import { FormGroup, ReactiveFormsModule } from '@angular/forms';
import { IftaLabelModule } from 'primeng/iftalabel';
import { InputTextModule } from 'primeng/inputtext';
import { ButtonModule } from 'primeng/button';
import { TooltipModule } from 'primeng/tooltip';

import { iFormConfig } from '../interfaces/form-config.interface';

/**
 * Interface para configurar o bot√£o do campo
 */
export interface TextWithButtonConfig extends iFormConfig {
  buttonConfig?: {
    icon?: string;
    label?: string;
    tooltip?: string;
    position?: 'left' | 'right';
    severity?: 'primary' | 'secondary' | 'success' | 'info' | 'warning' | 'danger';
  };
}

/**
 * Interface para o evento emitido ao clicar no bot√£o
 */
export interface FieldButtonClickEvent {
  fieldKey: string;
  fieldValue: any;
  fieldConfig: iFormConfig;
}

@Component({
  selector: 'vp-text-with-button-field',
  standalone: true,
  imports: [
    ReactiveFormsModule,
    IftaLabelModule,
    InputTextModule,
    ButtonModule,
    TooltipModule
  ],
  changeDetection: ChangeDetectionStrategy.OnPush,
  template: `
    <div [formGroup]="form()" class="field-container">
      <p-iftalabel class="field-wrapper">
        <!-- Bot√£o √† esquerda (se configurado) -->
        @if (buttonPosition() === 'left') {
          <button
            pButton
            type="button"
            [icon]="buttonConfig()?.icon || 'pi pi-search'"
            [label]="buttonConfig()?.label"
            [severity]="buttonConfig()?.severity || 'primary'"
            [pTooltip]="buttonConfig()?.tooltip"
            tooltipPosition="top"
            (click)="onButtonClick()"
            class="action-button"
            [disabled]="isFieldDisabled()"
          ></button>
        }

        <!-- Campo de input -->
        <input
          pInputText
          [id]="field().key"
          [type]="getInputType()"
          [formControlName]="field().key"
          [placeholder]="field().placeholder || ''"
          class="field-input"
        />

        <!-- Bot√£o √† direita (padr√£o) -->
        @if (buttonPosition() === 'right') {
          <button
            pButton
            type="button"
            [icon]="buttonConfig()?.icon || 'pi pi-search'"
            [label]="buttonConfig()?.label"
            [severity]="buttonConfig()?.severity || 'primary'"
            [pTooltip]="buttonConfig()?.tooltip"
            tooltipPosition="top"
            (click)="onButtonClick()"
            class="action-button"
            [disabled]="isFieldDisabled()"
          ></button>
        }

        <label [for]="field().key">{{ field().label }}</label>
      </p-iftalabel>
    </div>
  `,
  styles: [
    `
      :host {
        display: block;
        width: 100%;
      }

      .field-container {
        width: 100%;
      }

      .field-wrapper {
        display: flex;
        align-items: stretch;
        gap: 0.5rem;
        width: 100%;
      }

      .field-input {
        flex: 1;
        min-width: 0;
      }

      .action-button {
        flex-shrink: 0;
        align-self: flex-start;
        margin-top: 0.5rem;
      }

      /* Ajustes para quando o label est√° flutuando */
      :host ::ng-deep p-iftalabel {
        flex: 1;
        display: flex;
        flex-direction: column;
      }

      :host ::ng-deep .p-ifta-label-container {
        display: flex;
        align-items: stretch;
        gap: 0.5rem;
      }
    `,
  ],
})
export class TextWithButtonFieldComponent {
  // Inputs obrigat√≥rios
  form = input.required<FormGroup>();
  field = input.required<iFormConfig>();

  // Output para emitir o evento quando o bot√£o √© clicado
  buttonClick = output<FieldButtonClickEvent>();

  /**
   * Obt√©m a configura√ß√£o do bot√£o
   */
  buttonConfig() {
    return (this.field() as TextWithButtonConfig).buttonConfig;
  }

  /**
   * Obt√©m a posi√ß√£o do bot√£o (left ou right)
   */
  buttonPosition(): 'left' | 'right' {
    return this.buttonConfig()?.position || 'right';
  }

  /**
   * Obt√©m o tipo do input baseado no controlType
   */
  getInputType(): string {
    const controlType = this.field().controlType;
    return controlType === 'text-with-button' ? 'text' : controlType;
  }

  /**
   * Verifica se o campo est√° desabilitado
   */
  isFieldDisabled(): boolean {
    const control = this.form().get(this.field().key);
    return control?.disabled ?? false;
  }

  /**
   * Manipula o clique do bot√£o
   */
  onButtonClick(): void {
    const control = this.form().get(this.field().key);
    const value = control?.value;

    // Emite o evento com os dados do campo
    this.buttonClick.emit({
      fieldKey: this.field().key,
      fieldValue: value,
      fieldConfig: this.field(),
    });
  }
}
```

### 2Ô∏è‚É£ Registrar o Campo Customizado

No seu `app.component.ts` ou em um servi√ßo de inicializa√ß√£o:

```typescript
import { Component, OnInit, inject } from '@angular/core';
import { FieldRegistryService } from '@vipsolucoes/dynamic-form';
import { TextWithButtonFieldComponent } from './fields/text-with-button-field.component';

@Component({
  selector: 'app-root',
  standalone: true,
  imports: [
    // ... seus imports
  ],
  templateUrl: './app.component.html',
})
export class AppComponent implements OnInit {
  private fieldRegistry = inject(FieldRegistryService);

  ngOnInit(): void {
    // Registra o campo customizado
    this.fieldRegistry.registerField('text-with-button', TextWithButtonFieldComponent);
    
    console.log('Campo customizado "text-with-button" registrado com sucesso!');
  }
}
```

### 3Ô∏è‚É£ Usar o Campo no Formul√°rio

Agora voc√™ pode usar o campo no seu componente:

```typescript
import { Component, signal } from '@angular/core';
import { CommonModule } from '@angular/common';
import { DynamicFormComponent, iFormConfig } from '@vipsolucoes/dynamic-form';
import { Validators } from '@angular/forms';
import { FieldButtonClickEvent } from './fields/text-with-button-field.component';

@Component({
  selector: 'app-meu-formulario',
  standalone: true,
  imports: [CommonModule, DynamicFormComponent],
  template: `
    <div class="form-container">
      <h2>Formul√°rio com Campo Customizado</h2>
      
      <vp-dynamic-form
        [config]="formConfig()"
        (formReady)="onFormReady($event)"
      />

      @if (resultado()) {
        <div class="resultado">
          <h3>Resultado da Busca:</h3>
          <pre>{{ resultado() | json }}</pre>
        </div>
      }
    </div>
  `,
  styles: [`
    .form-container {
      max-width: 600px;
      margin: 2rem auto;
      padding: 2rem;
    }
    
    .resultado {
      margin-top: 2rem;
      padding: 1rem;
      background-color: #f5f5f5;
      border-radius: 4px;
    }
  `]
})
export class MeuFormularioComponent {
  resultado = signal<any>(null);
  form: any;

  // Configura√ß√£o do formul√°rio
  formConfig = signal<iFormConfig[]>([
    {
      key: 'nome',
      controlType: 'text',
      label: 'Nome Completo',
      placeholder: 'Digite seu nome',
      validators: [Validators.required],
    },
    {
      key: 'cep',
      controlType: 'text-with-button' as any, // Nosso campo customizado
      label: 'CEP',
      placeholder: '00000-000',
      validators: [Validators.required, Validators.pattern(/^\d{5}-?\d{3}$/)],
      buttonConfig: {
        icon: 'pi pi-search',
        tooltip: 'Buscar endere√ßo pelo CEP',
        position: 'right',
        severity: 'primary'
      }
    } as any,
    {
      key: 'rua',
      controlType: 'text',
      label: 'Rua',
      placeholder: 'Nome da rua',
    },
    {
      key: 'cidade',
      controlType: 'text',
      label: 'Cidade',
      placeholder: 'Nome da cidade',
    },
    {
      key: 'busca',
      controlType: 'text-with-button' as any,
      label: 'Buscar Produto',
      placeholder: 'Digite o nome do produto',
      buttonConfig: {
        icon: 'pi pi-shopping-cart',
        label: 'Buscar',
        tooltip: 'Buscar produtos',
        position: 'right',
        severity: 'success'
      }
    } as any,
  ]);

  onFormReady(form: any): void {
    this.form = form;
    
    // Voc√™ tamb√©m pode escutar eventos aqui
    // Mas o ideal √© usar o m√©todo abaixo com ngComponentOutlet
    console.log('Formul√°rio pronto:', form);
  }
}
```

### 4Ô∏è‚É£ Capturar o Evento do Bot√£o

Para capturar o evento do bot√£o, voc√™ precisa atualizar o `DynamicFormComponent`. Como est√° no modo Ask, vou mostrar como fazer:

**Atualizar `dynamic-form.component.html`:**

```html
<form [formGroup]="form" class="dynamic-form-container">
  @for (field of config(); track field.key) { 
    @if (getFieldComponent(field.controlType); as fieldComponent) {
      <div [class]="'form-field-wrapper ' + (field.styleClass || '')">
        <!-- Dynamically render the correct field component -->
        <ng-container
          [ngComponentOutlet]="fieldComponent"
          [ngComponentOutletInputs]="{ form: form, field: field }"
          (buttonClick)="onFieldButtonClick($event)"
        />

        @if (field.hint) {
          <small class="hint-text">{{ field.hint }}</small>
        }

        <!-- Reusable error display component -->
        <vp-form-field-error [control]="getControl(field.key)" />
      </div>
    } @else {
      <div class="form-field-wrapper">
        <small class="p-error">Tipo de campo '{{ field.controlType }}' n√£o encontrado.</small>
      </div>
    }
  }
</form>
```

**Atualizar `dynamic-form.component.ts`:**

```typescript
// Adicionar import
import { FieldButtonClickEvent } from '../../fields/text-with-button-field.component';

// Adicionar output na classe
export class DynamicFormComponent implements OnInit {
  // ... c√≥digo existente ...
  
  // Novo output para eventos de bot√£o
  fieldButtonClick = output<FieldButtonClickEvent>();

  // Novo m√©todo para manipular o clique do bot√£o
  onFieldButtonClick(event: FieldButtonClickEvent): void {
    this.fieldButtonClick.emit(event);
  }
  
  // ... resto do c√≥digo ...
}
```

**No seu componente que usa o formul√°rio:**

```typescript
@Component({
  selector: 'app-meu-formulario',
  template: `
    <vp-dynamic-form
      [config]="formConfig()"
      (formReady)="onFormReady($event)"
      (fieldButtonClick)="onFieldButtonClick($event)"
    />
  `
})
export class MeuFormularioComponent {
  async onFieldButtonClick(event: FieldButtonClickEvent): Promise<void> {
    console.log('Bot√£o clicado!', event);
    console.log('Campo:', event.fieldKey);
    console.log('Valor:', event.fieldValue);

    // Exemplo: Buscar CEP
    if (event.fieldKey === 'cep') {
      await this.buscarCep(event.fieldValue);
    }
    
    // Exemplo: Buscar produto
    if (event.fieldKey === 'busca') {
      await this.buscarProduto(event.fieldValue);
    }
  }

  async buscarCep(cep: string): Promise<void> {
    if (!cep) {
      alert('Por favor, digite um CEP');
      return;
    }

    try {
      // Remove caracteres n√£o num√©ricos
      const cepLimpo = cep.replace(/\D/g, '');
      
      // Chama a API ViaCEP
      const response = await fetch(`https://viacep.com.br/ws/${cepLimpo}/json/`);
      const data = await response.json();

      if (data.erro) {
        alert('CEP n√£o encontrado');
        return;
      }

      // Preenche os campos do formul√°rio
      this.form?.patchValue({
        rua: data.logradouro,
        cidade: data.localidade,
      });

      this.resultado.set(data);
      
      console.log('Endere√ßo encontrado:', data);
    } catch (error) {
      console.error('Erro ao buscar CEP:', error);
      alert('Erro ao buscar CEP');
    }
  }

  async buscarProduto(termo: string): Promise<void> {
    console.log('Buscando produto:', termo);
    // Implementar l√≥gica de busca de produto
    this.resultado.set({ termo, resultado: 'Produtos encontrados...' });
  }
}
```

---

## üìä Estrutura dos Arquivos

```
src/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ fields/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ text-with-button-field.component.ts  ‚Üê Novo campo customizado
‚îÇ   ‚îú‚îÄ‚îÄ app.component.ts                          ‚Üê Registra o campo
‚îÇ   ‚îî‚îÄ‚îÄ meu-formulario.component.ts              ‚Üê Usa o campo
‚îî‚îÄ‚îÄ lib/
    ‚îî‚îÄ‚îÄ components/
        ‚îî‚îÄ‚îÄ dynamic-form/
            ‚îú‚îÄ‚îÄ dynamic-form.component.ts         ‚Üê Atualizar (adicionar output)
            ‚îî‚îÄ‚îÄ dynamic-form.component.html       ‚Üê Atualizar (adicionar evento)
```

---

## üéØ Resumo do Fluxo

1. **Usu√°rio digita** o CEP no campo
2. **Usu√°rio clica** no bot√£o de busca
3. **Campo customizado** emite evento `buttonClick`
4. **DynamicFormComponent** propaga evento como `fieldButtonClick`
5. **Componente pai** recebe evento e executa a√ß√£o (buscar CEP)
6. **API retorna** dados e preenche outros campos do formul√°rio

---

## ‚ö° An√°lise de Escalabilidade e Manutenibilidade

Esta solu√ß√£o mant√©m os princ√≠pios de design do projeto:
- **Reutiliz√°vel**: O campo pode ser usado em qualquer formul√°rio
- **Desacoplado**: A l√≥gica de neg√≥cio fica no componente pai
- **Extens√≠vel**: F√°cil adicionar novos campos customizados
- **Type-safe**: Uso de interfaces TypeScript
- **Test√°vel**: Componentes isolados facilitam testes unit√°rios

**Pr√≥ximos passos sugeridos:**
1. Adicionar loading state no bot√£o durante requisi√ß√µes
2. Criar mais varia√ß√µes (text-with-icon, text-with-multiple-buttons)
3. Adicionar debounce para buscas autom√°ticas
4. Criar biblioteca de campos customizados comuns

**Voc√™ est√° no modo Ask. Mude para o modo Agent para que eu possa implementar essas altera√ß√µes automaticamente.**

---

_**User (2026-01-13 20:25Z)**_

Agora fa√ßa um plano para adicionarmos mais um campo do tipo p-inputgroup, que ter√° um input e um p-button. No click do button deve ser poss√≠bel capturar a informa√ß√£o do campo input no componente que est√° sendo utilizado. Deve-se atualizar as documenta√ß√µes, criar o exemplo em @projects/demo/src/app/test-form/test-form.component.ts . Se preciso use o mcp primeng.

---

_**Agent (model claude-4.5-sonnet-thinking, mode Plan)**_

<think><details><summary>Thought Process</summary>
O usu√°rio quer que eu crie um plano para adicionar um novo tipo de campo que usa o p-inputgroup do PrimeNG, com um input e um bot√£o. No click do bot√£o, deve ser poss√≠vel capturar a informa√ß√£o do campo input no componente que est√° sendo utilizado.

Vou precisar:
1. Buscar informa√ß√µes sobre o p-inputgroup do PrimeNG usando o MCP
2. Criar um novo componente de campo (inputgroup-field.component.ts)
3. Atualizar a interface iFormConfig para incluir o novo tipo
4. Registrar o novo componente no DynamicFormComponent
5. Adicionar suporte para capturar eventos de bot√£o
6. Atualizar documenta√ß√µes
7. Criar exemplo no test-form.component.ts

Mas antes, preciso entender melhor como o usu√°rio quer que funcione. Algumas perguntas importantes:
1. O evento do bot√£o deve ser propagado at√© o componente pai atrav√©s de um Output no DynamicFormComponent?
2. Quais propriedades de configura√ß√£o s√£o necess√°rias para o bot√£o (√≠cone, label, tooltip, etc)?
3. O bot√£o deve estar sempre √† direita do input ou pode ser configur√°vel?

Vou buscar informa√ß√µes sobre o InputGroup do PrimeNG primeiro para entender melhor as op√ß√µes dispon√≠veis.</details></think>

---

Vou buscar informa√ß√µes sobre o componente InputGroup do PrimeNG e analisar a estrutura atual do projeto para criar um plano detalhado.

---

Missing required parameter 'name' for tool get_component

---

<tool-use data-tool-type="mcp" data-tool-name="mcp_primeng_get_usage_example">
<details>
          <summary>Tool use: **mcp_primeng_get_usage_example**</summary>
      
*Called tool*: primeng - get_usage_example: Get code examples for a PrimeNG component

*Parameters*:
  * component: InputGroup

*Result*:
{
  "component": "inputgroup",
  "total_sections_with_examples": 7,
  "documentation_url": "https://primeng.org/inputgroup",
  "examples": [
    {
      "section": "basic",
      "label": "Basic",
      "examples": {
        "basic": "<p-inputgroup>\n    <p-inputgroup-addon>\n        <i class=\"pi pi-user\"></i>\n    </p-inputgroup-addon>\n    <input pInputText [(ngModel)]=\"text1\" placeholder=\"Username\" />\n</p-inputgroup>\n\n<p-inputgroup>\n    <p-inputgroup-addon>$</p-inputgroup-addon>\n    <p-inputnumber [(ngModel)]=\"number\" placeholder=\"Price\" />\n    <p-inputgroup-addon>.00</p-inputgroup-addon>\n</p-inputgroup>\n\n<p-inputgroup>\n    <p-inputgroup-addon>www</p-inputgroup-addon>\n    <input pInputText  [(ngModel)]=\"text2\" placeholder=\"Website\" />\n</p-inputgroup>\n\n<p-inputgroup>\n    <p-inputgroup-addon>\n        <i class=\"pi pi-map\"></i>\n    </p-inputgroup-addon>\n    <p-select [(ngModel)]=\"selectedCity\" [options]=\"cities\" optionLabel=\"name\" placeholder=\"City\" />\n</p-inputgroup>",
        "html": "<div class=\"card grid grid-cols-1 md:grid-cols-2 gap-4\">\n    <p-inputgroup>\n        <p-inputgroup-addon>\n            <i class=\"pi pi-user\"></i>\n        </p-inputgroup-addon>\n        <input pInputText [(ngModel)]=\"text1\" placeholder=\"Username\" />\n    </p-inputgroup>\n\n    <p-inputgroup>\n        <p-inputgroup-addon>$</p-inputgroup-addon>\n        <p-inputnumber [(ngModel)]=\"number\" placeholder=\"Price\" />\n        <p-inputgroup-addon>.00</p-inputgroup-addon>\n    </p-inputgroup>\n\n    <p-inputgroup>\n        <p-inputgroup-addon>www</p-inputgroup-addon>\n        <input pInputText  [(ngModel)]=\"text2\" placeholder=\"Website\" />\n    </p-inputgroup>\n\n    <p-inputgroup>\n        <p-inputgroup-addon>\n            <i class=\"pi pi-map\"></i>\n        </p-inputgroup-addon>\n        <p-select [(ngModel)]=\"selectedCity\" [options]=\"cities\" optionLabel=\"name\" placeholder=\"City\" />\n    </p-inputgroup>\n</div>",
        "typescript": "import { Component } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { InputGroupModule } from 'primeng/inputgroup';\nimport { InputGroupAddonModule } from 'primeng/inputgroupaddon';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { SelectModule } from 'primeng/select';\nimport { InputNumberModule } from 'primeng/inputnumber';\n\ninterface City {\n    name: string;\n    code: string;\n}\n\n@Component({\n    selector: 'input-group-basic-demo',\n    templateUrl: './input-group-basic-demo.html',\n    standalone: true,\n    imports: [FormsModule, InputGroupModule, InputGroupAddonModule, InputTextModule, SelectModule, InputNumberModule]\n})\nexport class InputGroupBasicDemo {\n    text1: string | undefined;\n\n    text2: string | undefined;\n\n    number: string | undefined;\n\n    selectedCity: City | undefined;\n\n    cities: City[] = [\n        { name: 'New York', code: 'NY' },\n        { name: 'Rome', code: 'RM' },\n        { name: 'London', code: 'LDN' },\n        { name: 'Istanbul', code: 'IST' },\n        { name: 'Paris', code: 'PRS' },\n    ];\n}"
      }
    },
    {
      "section": "button",
      "label": "Button",
      "examples": {
        "basic": "<p-inputgroup>\n    <p-button label=\"Search\" />\n    <input pInputText placeholder=\"Keyword\" />\n</p-inputgroup>\n\n<p-inputgroup>\n    <input pInputText placeholder=\"Keyword\" />\n    <p-inputgroup-addon>\n        <p-button icon=\"pi pi-search\" severity=\"secondary\" variant=\"text\" (click)=\"menu.toggle($event)\" />\n    </p-inputgroup-addon>\n</p-inputgroup>\n<p-menu #menu [model]=\"items\" popup styleClass=\"!min-w-fit\" />\n\n<p-inputgroup>\n    <p-inputgroup-addon>\n        <p-button icon=\"pi pi-check\" severity=\"secondary\" />\n    </p-inputgroup-addon>\n    <input pInputText placeholder=\"Vote\" />\n    <p-inputgroup-addon>\n        <p-button icon=\"pi pi-times\" severity=\"secondary\" />\n    </p-inputgroup-addon>\n</p-inputgroup>",
        "html": "<div class=\"card flex flex-col md:flex-row gap-4\">\n    <p-inputgroup>\n        <p-button label=\"Search\" />\n        <input pInputText placeholder=\"Keyword\" />\n    </p-inputgroup>\n\n    <p-inputgroup>\n        <input pInputText placeholder=\"Keyword\" />\n        <p-inputgroup-addon>\n            <p-button icon=\"pi pi-search\" severity=\"secondary\" variant=\"text\" (click)=\"menu.toggle($event)\" />\n        </p-inputgroup-addon>\n    </p-inputgroup>\n    <p-menu #menu [model]=\"items\" popup styleClass=\"!min-w-fit\" />\n\n    <p-inputgroup>\n        <p-inputgroup-addon>\n            <p-button icon=\"pi pi-check\" severity=\"secondary\" />\n        </p-inputgroup-addon>\n        <input pInputText placeholder=\"Vote\" />\n        <p-inputgroup-addon>\n            <p-button icon=\"pi pi-times\" severity=\"secondary\" />\n        </p-inputgroup-addon>\n    </p-inputgroup>\n</div>",
        "typescript": "import { Component } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { InputGroup } from 'primeng/inputgroup';\nimport { InputGroupAddonModule } from 'primeng/inputgroupaddon';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { ButtonModule } from 'primeng/button';\nimport { MenuModule } from 'primeng/menu';\nimport { MenuItem } from 'primeng/api';\n\n@Component({\n    selector: 'input-group-button-demo',\n    templateUrl: './input-group-button-demo.html',\n    standalone: true,\n    imports: [FormsModule, InputGroup, InputGroupAddonModule, InputTextModule, ButtonModule, MenuModule]\n})\nexport class InputGroupButtonDemo {\n    items: MenuItem[] | undefined;\n\n    ngOnInit() {\n        this.items = [{ label: 'Web Search' }, { label: 'AI Assistant' }, { label: 'History' }];\n    }\n}"
      }
    },
    {
      "section": "checkbox",
      "label": "Checkbox & Radio",
      "examples": {
        "basic": "<p-inputgroup>\n    <input type=\"text\" pInputText placeholder=\"Price\" />\n    <p-inputgroup-addon>\n        <p-radiobutton [(ngModel)]=\"radioValue1\" name=\"rb1\" value=\"rb1\"/>\n    </p-inputgroup-addon>\n</p-inputgroup>\n\n<p-inputgroup>\n    <p-inputgroup-addon><p-checkbox [(ngModel)]=\"checked1\" [binary]=\"true\"/></p-inputgroup-addon>\n    <input type=\"text\" pInputText placeholder=\"Username\" />\n</p-inputgroup>\n\n<p-inputgroup>\n    <p-inputgroup-addon><p-checkbox [(ngModel)]=\"checked2\" [binary]=\"true\"/></p-inputgroup-addon>\n    <input type=\"text\" pInputText placeholder=\"Website\" />\n    <p-inputgroup-addon><p-radiobutton name=\"rb2\" value=\"rb2\" [(ngModel)]=\"category\"/></p-inputgroup-addon>\n</p-inputgroup>",
        "html": "<div class=\"card flex flex-col md:flex-row gap-4\">\n    <p-inputgroup>\n        <input type=\"text\" pInputText placeholder=\"Price\" />\n        <p-inputgroup-addon>\n            <p-radiobutton [(ngModel)]=\"radioValue1\" name=\"rb1\" value=\"rb1\"/>\n        </p-inputgroup-addon>\n    </p-inputgroup>\n\n    <p-inputgroup>\n        <p-inputgroup-addon><p-checkbox [(ngModel)]=\"checked1\" [binary]=\"true\"/></p-inputgroup-addon>\n        <input type=\"text\" pInputText placeholder=\"Username\" />\n    </p-inputgroup>\n\n    <p-inputgroup>\n        <p-inputgroup-addon><p-checkbox [(ngModel)]=\"checked2\" [binary]=\"true\"/></p-inputgroup-addon>\n        <input type=\"text\" pInputText placeholder=\"Website\" />\n        <p-inputgroup-addon><p-radiobutton name=\"rb2\" value=\"rb2\" [(ngModel)]=\"category\"/></p-inputgroup-addon>\n    </p-inputgroup>\n</div>",
        "typescript": "import { Component } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { InputGroup } from 'primeng/inputgroup';\nimport { InputGroupAddonModule } from 'primeng/inputgroupaddon';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { Checkbox } from 'primeng/checkbox';\nimport { RadioButton } from 'primeng/radiobutton';\n\n@Component({\n    selector: 'input-group-checkbox-demo',\n    templateUrl: './input-group-checkbox-demo.html',\n    standalone: true,\n    imports: [FormsModule, InputGroup, InputGroupAddonModule, InputTextModule, Checkbox, RadioButton]\n})\nexport class InputGroupCheckboxDemo {\n    radioValue1: boolean = false;\n\n    checked1: boolean = false;\n\n    checked2: boolean = false;\n\n    category: string | undefined;\n}"
      }
    },
    {
      "section": "floatlabel",
      "label": "Float Label",
      "examples": {
        "basic": "<p-inputgroup>\n    <p-inputgroup-addon>\n        <i class=\"pi pi-user\"></i>\n    </p-inputgroup-addon>\n    <p-floatlabel>\n        <input pInputText id=\"over_label\" [(ngModel)]=\"value1\" />\n        <label for=\"over_label\">Over Label</label>\n    </p-floatlabel>\n</p-inputgroup>\n\n<p-inputgroup>\n    <p-inputgroup-addon>$</p-inputgroup-addon>\n    <p-floatlabel variant=\"in\">\n        <input pInputText id=\"in_label\" [(ngModel)]=\"value2\" />\n        <label for=\"in_label\">In Label</label>\n    </p-floatlabel>\n    <p-inputgroup-addon>.00</p-inputgroup-addon>\n</p-inputgroup>\n\n<p-inputgroup>\n    <p-inputgroup-addon>www</p-inputgroup-addon>\n    <p-floatlabel variant=\"on\">\n        <input pInputText id=\"on_label\" [(ngModel)]=\"value3\" />\n        <label for=\"on_label\">On Label</label>\n    </p-floatlabel>\n</p-inputgroup>",
        "html": "<div class=\"card flex flex-col md:items-end md:flex-row gap-4\">\n    <p-inputgroup>\n        <p-inputgroup-addon>\n            <i class=\"pi pi-user\"></i>\n        </p-inputgroup-addon>\n        <p-floatlabel>\n            <input pInputText id=\"over_label\" [(ngModel)]=\"value1\" />\n            <label for=\"over_label\">Over Label</label>\n        </p-floatlabel>\n    </p-inputgroup>\n\n    <p-inputgroup>\n        <p-inputgroup-addon>$</p-inputgroup-addon>\n        <p-floatlabel variant=\"in\">\n            <input pInputText id=\"in_label\" [(ngModel)]=\"value2\" />\n            <label for=\"in_label\">In Label</label>\n        </p-floatlabel>\n        <p-inputgroup-addon>.00</p-inputgroup-addon>\n    </p-inputgroup>\n\n    <p-inputgroup>\n        <p-inputgroup-addon>www</p-inputgroup-addon>\n        <p-floatlabel variant=\"on\">\n            <input pInputText id=\"on_label\" [(ngModel)]=\"value3\" />\n            <label for=\"on_label\">On Label</label>\n        </p-floatlabel>\n    </p-inputgroup>\n</div>",
        "typescript": "import { Component } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { InputGroupModule } from 'primeng/inputgroup';\nimport { InputGroupAddonModule } from 'primeng/inputgroupaddon';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { InputNumberModule } from 'primeng/inputnumber';\nimport { FloatLabelModule } from 'primeng/floatlabel';\n\n@Component({\n    selector: 'input-group-float-label-demo',\n    templateUrl: './input-group-float-label-demo.html',\n    standalone: true,\n    imports: [FormsModule, InputGroupModule, InputGroupAddonModule, InputTextModule, FloatLabelModule]\n})\nexport class InputGroupFloatLabelDemo {\n    value1: string | undefined;\n\n    value2: string | undefined;\n\n    value3: string | undefined;\n}"
      }
    },
    {
      "section": "iftalabel",
      "label": "Ifta Label",
      "examples": {
        "basic": "<p-inputgroup class=\"md:!w-80\">\n    <p-inputgroup-addon>\n        <i class=\"pi pi-shopping-cart\"></i>\n    </p-inputgroup-addon>\n    <p-iftalabel>\n        <p-inputnumber [(ngModel)]=\"value\" inputId=\"price\" mode=\"currency\" currency=\"USD\" locale=\"en-US\" />\n        <label for=\"price\">Price</label>\n    </p-iftalabel>\n</p-inputgroup>",
        "html": "<div class=\"card flex justify-center\">\n    <p-inputgroup class=\"md:!w-80\">\n        <p-inputgroup-addon>\n            <i class=\"pi pi-shopping-cart\"></i>\n        </p-inputgroup-addon>\n        <p-iftalabel>\n            <p-inputnumber [(ngModel)]=\"value\" inputId=\"price\" mode=\"currency\" currency=\"USD\" locale=\"en-US\" />\n            <label for=\"price\">Price</label>\n        </p-iftalabel>\n    </p-inputgroup>\n</div>",
        "typescript": "import { Component } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { InputGroupModule } from 'primeng/inputgroup';\nimport { InputGroupAddonModule } from 'primeng/inputgroupaddon';\nimport { SelectModule } from 'primeng/select';\nimport { IftaLabelModule } from 'primeng/iftalabel';\nimport { InputNumberModule } from 'primeng/inputnumber';\n\n@Component({\n    selector: 'input-group-ifta-label-demo',\n    templateUrl: './input-group-ifta-label-demo.html',\n    standalone: true,\n    imports: [FormsModule, InputGroupModule, InputGroupAddonModule, IftaLabelModule , InputNumberModule]\n})\nexport class InputGroupIftaLabelDemo {\n    value: number = 10;\n}"
      }
    },
    {
      "section": "import",
      "label": "Import",
      "examples": {
        "typescript": "import { InputGroupModule } from 'primeng/inputgroup';\nimport { InputGroupAddonModule } from 'primeng/inputgroupaddon';"
      }
    },
    {
      "section": "multiple",
      "label": "Multiple",
      "examples": {
        "basic": "<p-inputgroup class=\"w-full md:!w-[30rem]\">\n    <p-inputgroup-addon>\n        <i class=\"pi pi-clock\"></i>\n    </p-inputgroup-addon>\n    <p-inputgroup-addon>\n        <i class=\"pi pi-star-fill\"></i>\n    </p-inputgroup-addon>\n    <input type=\"text\" pInputText placeholder=\"Price\" />\n    <p-inputgroup-addon>$</p-inputgroup-addon>\n    <p-inputgroup-addon>.00</p-inputgroup-addon>\n</p-inputgroup>",
        "html": "<div class=\"card flex justify-center\">\n    <p-inputgroup class=\"w-full md:!w-[30rem]\">\n        <p-inputgroup-addon>\n            <i class=\"pi pi-clock\"></i>\n        </p-inputgroup-addon>\n        <p-inputgroup-addon>\n            <i class=\"pi pi-star-fill\"></i>\n        </p-inputgroup-addon>\n        <input type=\"text\" pInputText placeholder=\"Price\" />\n        <p-inputgroup-addon>$</p-inputgroup-addon>\n        <p-inputgroup-addon>.00</p-inputgroup-addon>\n    </p-inputgroup>\n</div>",
        "typescript": "import { Component } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { InputGroup } from 'primeng/inputgroup';\nimport { InputGroupAddonModule } from 'primeng/inputgroupaddon';\nimport { InputTextModule } from 'primeng/inputtext';\n\n@Component({\n    selector: 'input-group-multiple-demo',\n    templateUrl: './input-group-multiple-demo.html',\n    standalone: true,\n    imports: [FormsModule, InputGroup, InputGroupAddonModule, InputTextModule]\n})\nexport class InputGroupMultipleDemo {\n}"
      }
    }
  ]
}
</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: projects/dynamic-form/src/lib/fields/datepicker-field.component.ts</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_dir** ‚Ä¢ Listed directory, 0 results</summary>
        
No results found
</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>
√ìtimo! Agora entendi melhor. O InputGroup do PrimeNG pode ter bot√µes integrados. Vou ler a documenta√ß√£o existente para entender melhor o padr√£o do projeto e depois fazer algumas perguntas ao usu√°rio para esclarecer alguns pontos.</details></think>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: docs/dynamic-form.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: projects/dynamic-form/README.md</summary>

</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>
Agora tenho uma boa vis√£o do projeto. Antes de criar o plano, preciso fazer algumas perguntas ao usu√°rio para esclarecer alguns pontos importantes:

1. Como o evento do bot√£o deve ser capturado? Atrav√©s de um output no DynamicFormComponent (similar ao formReady) ou atrav√©s de alguma outra abordagem?

2. Quais propriedades de configura√ß√£o devem ser suportadas para o bot√£o? (icon, label, tooltip, severity, etc)

3. O bot√£o deve poder estar tanto √† esquerda quanto √† direita do input, ou sempre √† direita?

4. O campo deve suportar IftaLabel (como os outros campos do projeto)?

5. Deve haver alguma propriedade espec√≠fica para distinguir este campo dos outros (como 'inputgroup')?

Vou fazer essas perguntas usando o ask_question tool.</details></think>

---

Entendi! Preciso fazer algumas perguntas para garantir que o plano atenda exatamente √†s suas necessidades:

---

<tool-use data-tool-type="unknown" data-tool-name="ask_question">
<details>
<summary>Tool use: **ask_question**</summary>


Parameters:

```json
{
  "title": "Configura√ß√£o do Campo InputGroup",
  "questions": [
    {
      "id": "event_capture",
      "prompt": "Como voc√™ prefere capturar o evento do click do bot√£o?",
      "options": [
        {
          "id": "output_event",
          "label": "Atrav√©s de um output no DynamicFormComponent (ex: fieldButtonClick), similar ao formReady"
        },
        {
          "id": "callback",
          "label": "Atrav√©s de uma fun√ß√£o callback configurada no iFormConfig"
        }
      ]
    },
    {
      "id": "button_position",
      "prompt": "A posi√ß√£o do bot√£o deve ser configur√°vel?",
      "options": [
        {
          "id": "configurable",
          "label": "Sim, deve suportar posi√ß√£o √† esquerda ou direita (configur√°vel)"
        },
        {
          "id": "fixed_right",
          "label": "N√£o, sempre √† direita do input"
        },
        {
          "id": "fixed_left",
          "label": "N√£o, sempre √† esquerda do input"
        }
      ]
    },
    {
      "id": "iftalabel_support",
      "prompt": "O campo deve usar IftaLabel (label flutuante) como os outros campos do projeto?",
      "options": [
        {
          "id": "yes_iftalabel",
          "label": "Sim, manter o padr√£o com IftaLabel"
        },
        {
          "id": "no_iftalabel",
          "label": "N√£o, usar InputGroup puro do PrimeNG sem IftaLabel"
        }
      ]
    },
    {
      "id": "control_type",
      "prompt": "Qual deve ser o nome do controlType para este novo campo?",
      "options": [
        {
          "id": "inputgroup",
          "label": "'inputgroup' - Um novo tipo de campo"
        },
        {
          "id": "text_with_button",
          "label": "'text-with-button' - Mais descritivo"
        },
        {
          "id": "input_button",
          "label": "'input-button' - Nome simples e curto"
        }
      ]
    }
  ]
}
```
Additional data:

```json
{
  "status": "submitted",
  "currentSelections": {
    "event_capture": [
      "callback"
    ],
    "button_position": [
      "configurable"
    ],
    "iftalabel_support": [
      "yes_iftalabel"
    ],
    "control_type": [
      "input_button"
    ]
  }
}
```
Result:

```json
{
  "answers": [
    {
      "questionId": "event_capture",
      "selectedOptionIds": [
        "callback"
      ]
    },
    {
      "questionId": "button_position",
      "selectedOptionIds": [
        "configurable"
      ]
    },
    {
      "questionId": "iftalabel_support",
      "selectedOptionIds": [
        "yes_iftalabel"
      ]
    },
    {
      "questionId": "control_type",
      "selectedOptionIds": [
        "input_button"
      ]
    }
  ]
}
```
User decision: **accepted**

Status: **completed**


</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>
Perfeito! Agora tenho todas as informa√ß√µes que preciso:

1. O evento ser√° capturado atrav√©s de uma fun√ß√£o callback configurada no iFormConfig
2. A posi√ß√£o do bot√£o deve ser configur√°vel (esquerda ou direita)
3. Deve usar IftaLabel (padr√£o do projeto)
4. O controlType ser√° 'input-button'

Agora vou criar o plano detalhado.</details></think>

---

Perfeito! Agora tenho todas as informa√ß√µes necess√°rias. Vou criar um plano detalhado para implementar o novo campo `input-button`:

---

Cancelled

---



---



---

_**User (2026-01-13 20:25Z)**_

Implement the plan as specified, it is attached for your reference. Do NOT edit the plan file itself.

To-do's from the plan have already been created. Do not create them again. Mark them as in_progress as you work, starting with the first one. Don't stop until you have completed all the to-dos.

---

_**Agent (model composer-1, mode Agent)**_



---


Implementando o plano passo a passo. Come√ßando pela atualiza√ß√£o da interface e cria√ß√£o do componente.


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: projects/dynamic-form/src/lib/interfaces/form-config.interface.ts</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: projects/dynamic-form/src/lib/components/dynamic-form/dynamic-form.component.ts</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: projects/dynamic-form/src/public-api.ts</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: projects/demo/src/app/test-form/test-form.component.html</summary>

</details>
</tool-use>

---



---


Implementando o plano passo a passo. Come√ßando pela atualiza√ß√£o da interface e cria√ß√£o do componente.


---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** ‚Ä¢ Todo List</summary>

- [-] undefined
- [ ] undefined
- [ ] undefined
- [ ] undefined
- [ ] undefined
- [ ] undefined
- [ ] undefined
- [ ] undefined
- [ ] undefined

</details>
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: projects/dynamic-form/src/lib/interfaces/form-config.interface.ts</summary>

**Chunk 1**
Lines added: 2, lines removed: 1

```diff
@@ -28,5 +28,6 @@
      | 'datepicker'
      | 'textarea'
-     | 'toggleswitch';
+     | 'toggleswitch'
+     | 'input-button';
    /**
     * Texto a ser exibido no label do campo.
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: projects/dynamic-form/src/lib/interfaces/form-config.interface.ts</summary>

**Chunk 1**
Lines added: 30, lines removed: undefined

```diff
@@ -96,4 +96,34 @@
     */
    toggleFalseValue?: any;
+   /**
+    * Configura√ß√£o do bot√£o para campos do tipo 'input-button'
+    */
+   buttonConfig?: {
+     /**
+      * √çcone do bot√£o (PrimeIcons). Ex: 'pi pi-search'
+      */
+     icon?: string;
+     /**
+      * Label/texto do bot√£o
+      */
+     label?: string;
+     /**
+      * Tooltip do bot√£o
+      */
+     tooltip?: string;
+     /**
+      * Posi√ß√£o do bot√£o. Default: 'right'
+      */
+     position?: 'left' | 'right';
+     /**
+      * Severity do bot√£o. Default: 'primary'
+      */
+     severity?: 'primary' | 'secondary' | 'success' | 'info' | 'warning' | 'danger' | 'help' | 'contrast';
+   };
+   /**
+    * Fun√ß√£o callback executada ao clicar no bot√£o do campo 'input-button'.
+    * Recebe a key do campo e o valor atual como par√¢metros.
+    */
+   buttonCallback?: (fieldKey: string, fieldValue: any) =&gt; void | Promise&lt;void&gt;;
  }
  
```

</details>

</tool-use>

---



---


Criando o componente InputButtonFieldComponent:


---

<tool-use data-tool-type="write" data-tool-name="write">

<details><summary>Tool use: **write** ‚Ä¢ Edit file: projects/dynamic-form/src/lib/fields/input-button-field.component.ts</summary>

**Chunk 1**
Lines added: 109, lines removed: 1

```diff
@@ -1,1 +1,109 @@
- 
+ import { ChangeDetectionStrategy, Component, input } from '@angular/core';
+ import { FormGroup, ReactiveFormsModule } from '@angular/forms';
+ import { IftaLabelModule } from 'primeng/iftalabel';
+ import { InputTextModule } from 'primeng/inputtext';
+ import { InputGroupModule } from 'primeng/inputgroup';
+ import { InputGroupAddonModule } from 'primeng/inputgroupaddon';
+ import { ButtonModule } from 'primeng/button';
+ import { TooltipModule } from 'primeng/tooltip';
+ 
+ import { iFormConfig } from '../interfaces/form-config.interface';
+ 
+ @Component({
+   selector: 'vp-input-button-field',
+   standalone: true,
+   imports: [
+     ReactiveFormsModule,
+     IftaLabelModule,
+     InputTextModule,
+     InputGroupModule,
+     InputGroupAddonModule,
+     ButtonModule,
+     TooltipModule,
+   ],
+   changeDetection: ChangeDetectionStrategy.OnPush,
+   template: &#96;
+     &lt;div [formGroup]="form()"&gt;
+       &lt;p-inputgroup&gt;
+         @if (buttonPosition() === 'left') {
+           &lt;p-button
+             type="button"
+             [icon]="buttonConfig()?.icon || ''"
+             [label]="buttonConfig()?.label || ''"
+             [severity]="buttonConfig()?.severity || 'primary'"
+             [pTooltip]="buttonConfig()?.tooltip || ''"
+             tooltipPosition="top"
+             (click)="onButtonClick()"
+             [disabled]="isFieldDisabled()"
+           /&gt;
+         }
+ 
+         &lt;p-iftalabel&gt;
+           &lt;input
+             pInputText
+             [id]="field().key"
+             [formControlName]="field().key"
+             [placeholder]="field().placeholder || ''"
+           /&gt;
+           &lt;label [for]="field().key"&gt;{{ field().label }}&lt;/label&gt;
+         &lt;/p-iftalabel&gt;
+ 
+         @if (buttonPosition() === 'right') {
+           &lt;p-button
+             type="button"
+             [icon]="buttonConfig()?.icon || ''"
+             [label]="buttonConfig()?.label || ''"
+             [severity]="buttonConfig()?.severity || 'primary'"
+             [pTooltip]="buttonConfig()?.tooltip || ''"
+             tooltipPosition="top"
+             (click)="onButtonClick()"
+             [disabled]="isFieldDisabled()"
+           /&gt;
+         }
+       &lt;/p-inputgroup&gt;
+     &lt;/div&gt;
+   &#96;,
+   styles: [
+     &#96;
+       :host {
+         display: block;
+         width: 100%;
+       }
+       p-inputgroup {
+         display: flex;
+         width: 100%;
+       }
+       p-iftalabel {
+         flex: 1;
+       }
+     &#96;,
+   ],
+ })
+ export class InputButtonFieldComponent {
+   form = input.required&lt;FormGroup&gt;();
+   field = input.required&lt;iFormConfig&gt;();
+ 
+   buttonConfig() {
+     return this.field().buttonConfig;
+   }
+ 
+   buttonPosition(): 'left' | 'right' {
+     return this.buttonConfig()?.position || 'right';
+   }
+ 
+   isFieldDisabled(): boolean {
+     const control = this.form().get(this.field().key);
+     return control?.disabled ?? false;
+   }
+ 
+   onButtonClick(): void {
+     const control = this.form().get(this.field().key);
+     const value = control?.value;
+     const callback = this.field().buttonCallback;
+ 
+     if (callback) {
+       callback(this.field().key, value);
+     }
+   }
+ }
+ 
```

</details>

</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** ‚Ä¢ Todo List</summary>

- [x] undefined
- [x] undefined
- [-] undefined
- [ ] undefined
- [ ] undefined
- [ ] undefined
- [ ] undefined
- [ ] undefined
- [ ] undefined

</details>
</tool-use>

---



---


Registrando o componente no DynamicFormComponent:


---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: projects/dynamic-form/src/lib/components/dynamic-form/dynamic-form.component.ts</summary>

**Chunk 1**
Lines added: 1, lines removed: undefined

```diff
@@ -7,4 +7,5 @@
  import { DatePickerFieldComponent } from '../../fields/datepicker-field.component';
  import { InputTextFieldComponent } from '../../fields/input-text-field.component';
+ import { InputButtonFieldComponent } from '../../fields/input-button-field.component';
  import { NumberInputFieldComponent } from '../../fields/number-input-field.component';
  import { PasswordFieldComponent } from '../../fields/password-field.component';
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: projects/dynamic-form/src/lib/components/dynamic-form/dynamic-form.component.ts</summary>

**Chunk 1**
Lines added: 1, lines removed: undefined

```diff
@@ -42,4 +42,5 @@
      textarea: TextareaFieldComponent,
      toggleswitch: ToggleSwitchFieldComponent,
+     'input-button': InputButtonFieldComponent,
    };
  
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: projects/dynamic-form/src/lib/components/dynamic-form/dynamic-form.component.ts</summary>

**Chunk 1**
Lines added: 1, lines removed: undefined

```diff
@@ -146,4 +146,5 @@
        case 'password':
        case 'textarea':
+       case 'input-button':
          return '';
        case 'number':
```

</details>

</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** ‚Ä¢ Todo List</summary>

- [x] undefined
- [x] undefined
- [x] undefined
- [-] undefined
- [ ] undefined
- [ ] undefined
- [ ] undefined
- [ ] undefined
- [ ] undefined

</details>
</tool-use>

---



---


Exportando o novo componente no public-api.ts:


---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: projects/dynamic-form/src/public-api.ts</summary>

**Chunk 1**
Lines added: 1, lines removed: undefined

```diff
@@ -10,4 +10,5 @@
  // Fields (para uso standalone)
  export { InputTextFieldComponent } from './lib/fields/input-text-field.component';
+ export { InputButtonFieldComponent } from './lib/fields/input-button-field.component';
  export { SelectFieldComponent } from './lib/fields/select-field.component';
  export { DatePickerFieldComponent } from './lib/fields/datepicker-field.component';
```

</details>

</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** ‚Ä¢ Todo List</summary>

- [x] undefined
- [x] undefined
- [x] undefined
- [x] undefined
- [-] undefined
- [ ] undefined
- [ ] undefined
- [ ] undefined
- [ ] undefined

</details>
</tool-use>

---



---


Atualizando a documenta√ß√£o principal. Lendo o README.md para identificar onde inserir a se√ß√£o:


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: projects/dynamic-form/README.md</summary>

</details>
</tool-use>

---



---


Adicionando a se√ß√£o do campo input-button no README.md:


---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: projects/dynamic-form/README.md</summary>

**Chunk 1**
Lines added: 1, lines removed: undefined

```diff
@@ -118,4 +118,5 @@
  - &#96;textarea&#96; - √Årea de texto
  - &#96;toggleswitch&#96; - Switch/Toggle
+ - &#96;input-button&#96; - Campo de texto com bot√£o de a√ß√£o
  
  ## üéØ Exemplos de Configura√ß√£o
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: projects/dynamic-form/README.md</summary>

**Chunk 1**
Lines added: 34, lines removed: undefined

```diff
@@ -192,4 +192,38 @@
  }
  &#96;&#96;&#96;
+ 
+ ### Campo Input-Button (Input com Bot√£o de A√ß√£o)
+ 
+ O campo &#96;input-button&#96; combina um input text com um bot√£o de a√ß√£o usando o componente InputGroup do PrimeNG:
+ 
+ &#96;&#96;&#96;typescript
+ {
+   key: 'cep',
+   controlType: 'input-button',
+   label: 'CEP',
+   placeholder: '00000-000',
+   validators: [Validators.required],
+   buttonConfig: {
+     icon: 'pi pi-search',
+     tooltip: 'Buscar endere√ßo',
+     position: 'right',
+     severity: 'primary'
+   },
+   buttonCallback: async (fieldKey, value) =&gt; {
+     console.log(&#96;Buscando ${fieldKey}:&#96;, value);
+     // Implementar l√≥gica de busca
+   }
+ }
+ &#96;&#96;&#96;
+ 
+ Propriedades do &#96;buttonConfig&#96;:
+ 
+ - &#96;icon&#96;: √çcone do PrimeIcons (ex: 'pi pi-search')
+ - &#96;label&#96;: Texto do bot√£o (opcional, pode usar apenas √≠cone)
+ - &#96;tooltip&#96;: Texto do tooltip ao passar o mouse
+ - &#96;position&#96;: Posi√ß√£o do bot√£o ('left' | 'right'), padr√£o 'right'
+ - &#96;severity&#96;: Estilo do bot√£o, padr√£o 'primary'
+ 
+ A fun√ß√£o &#96;buttonCallback&#96; √© executada quando o bot√£o √© clicado e recebe a key do campo e o valor atual como par√¢metros.
  
  ### Campos Condicionais
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: projects/dynamic-form/README.md</summary>

**Chunk 1**
Lines added: 2, lines removed: 1

```diff
@@ -329,5 +329,6 @@
      | 'datepicker'
      | 'textarea'
-     | 'toggleswitch';
+     | 'toggleswitch'
+     | 'input-button';
    label: string; // Texto do label
    value?: any; // Valor inicial
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: projects/dynamic-form/README.md</summary>

**Chunk 1**
Lines added: 8, lines removed: undefined

```diff
@@ -347,4 +347,12 @@
    toggleTrueValue?: any; // Valor quando toggle est√° ativo (default: true)
    toggleFalseValue?: any; // Valor quando toggle est√° inativo (default: false)
+   buttonConfig?: { // Configura√ß√£o do bot√£o para campos 'input-button'
+     icon?: string; // √çcone do PrimeIcons
+     label?: string; // Texto do bot√£o
+     tooltip?: string; // Tooltip do bot√£o
+     position?: 'left' | 'right'; // Posi√ß√£o do bot√£o (default: 'right')
+     severity?: 'primary' | 'secondary' | 'success' | 'info' | 'warning' | 'danger' | 'help' | 'contrast'; // Estilo do bot√£o
+   };
+   buttonCallback?: (fieldKey: string, fieldValue: any) =&gt; void | Promise&lt;void&gt;; // Callback executado ao clicar no bot√£o
  }
  &#96;&#96;&#96;
```

</details>

</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** ‚Ä¢ Todo List</summary>

- [x] undefined
- [x] undefined
- [x] undefined
- [x] undefined
- [x] undefined
- [-] undefined
- [ ] undefined
- [ ] undefined
- [ ] undefined

</details>
</tool-use>

---



---


Atualizando a documenta√ß√£o detalhada. Lendo o arquivo para identificar onde inserir a se√ß√£o:


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: docs/dynamic-form.md</summary>

</details>
</tool-use>

---



---


Adicionando a se√ß√£o do InputButtonFieldComponent na documenta√ß√£o detalhada:


---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: docs/dynamic-form.md</summary>

**Chunk 1**
Lines added: 28, lines removed: undefined

```diff
@@ -135,4 +135,32 @@
  - **Valor Padr√£o**: O valor padr√£o para campos de toggle switch √© &#96;false&#96; (n√£o string vazia).
  - **Valida√ß√£o Visual**: Exibe estado inv√°lido atrav√©s da propriedade &#96;invalid&#96; do &#96;p-toggleswitch&#96; quando o campo est√° inv√°lido e foi tocado/modificado.
+ 
+ #### &#96;InputButtonFieldComponent&#96;
+ 
+ **Seletor**: &#96;vp-input-button-field&#96;
+ **Tipo**: Standalone Component
+ **M√≥dulos PrimeNG Utilizados**: &#96;InputGroupModule&#96;, &#96;InputGroupAddonModule&#96;, &#96;ButtonModule&#96;, &#96;IftaLabelModule&#96;, &#96;TooltipModule&#96;
+ 
+ Renderiza um campo de input text combinado com um bot√£o usando &#96;p-inputgroup&#96;.
+ 
+ **Entradas (&#96;input&#96;)**:
+ - &#96;form&#96;: &#96;input.required&lt;FormGroup&gt;()&#96; - O FormGroup reativo.
+ - &#96;field&#96;: &#96;input.required&lt;iFormConfig&gt;()&#96; - A configura√ß√£o do campo.
+ 
+ **Configura√ß√£o Espec√≠fica (&#96;iFormConfig&#96;)**:
+ - &#96;buttonConfig&#96;: Configura√ß√£o do bot√£o
+   - &#96;icon&#96;: √çcone PrimeIcons (ex: 'pi pi-search')
+   - &#96;label&#96;: Texto do bot√£o (opcional)
+   - &#96;tooltip&#96;: Tooltip do bot√£o
+   - &#96;position&#96;: Posi√ß√£o do bot√£o ('left' | 'right'), padr√£o 'right'
+   - &#96;severity&#96;: Estilo do bot√£o ('primary' | 'secondary' | 'success' | 'info' | 'warning' | 'danger' | 'help' | 'contrast'), padr√£o 'primary'
+ - &#96;buttonCallback&#96;: Fun√ß√£o executada no click do bot√£o, recebe &#96;(fieldKey: string, fieldValue: any) =&gt; void | Promise&lt;void&gt;&#96;
+ 
+ **Comportamento**:
+ - O bot√£o pode ser posicionado √† esquerda ou direita do input
+ - O bot√£o √© desabilitado quando o campo est√° desabilitado
+ - Ao clicar no bot√£o, executa a fun√ß√£o &#96;buttonCallback&#96; passando a key e o valor atual do campo
+ - Utiliza IftaLabel para manter consist√™ncia visual com outros campos
+ - Utiliza InputGroup do PrimeNG para agrupar o input e o bot√£o
  
  ### 3. &#96;DynamicFormErrorComponent&#96;
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: docs/dynamic-form.md</summary>

**Chunk 1**
Lines added: 2, lines removed: 1

```diff
@@ -205,5 +205,6 @@
      | 'datepicker'
      | 'textarea'
-     | 'toggleswitch';
+     | 'toggleswitch'
+     | 'input-button';
    label: string;
    value?: any;
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: docs/dynamic-form.md</summary>

**Chunk 1**
Lines added: 8, lines removed: undefined

```diff
@@ -223,4 +223,12 @@
    toggleTrueValue?: any; // Para controlType: 'toggleswitch'
    toggleFalseValue?: any; // Para controlType: 'toggleswitch'
+   buttonConfig?: { // Para controlType: 'input-button'
+     icon?: string; // √çcone do PrimeIcons
+     label?: string; // Texto do bot√£o
+     tooltip?: string; // Tooltip do bot√£o
+     position?: 'left' | 'right'; // Posi√ß√£o do bot√£o (default: 'right')
+     severity?: 'primary' | 'secondary' | 'success' | 'info' | 'warning' | 'danger' | 'help' | 'contrast'; // Estilo do bot√£o
+   };
+   buttonCallback?: (fieldKey: string, fieldValue: any) =&gt; void | Promise&lt;void&gt;; // Callback executado ao clicar no bot√£o
  }
  &#96;&#96;&#96;
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: docs/dynamic-form.md</summary>

**Chunk 1**
Lines added: 2, lines removed: undefined

```diff
@@ -252,4 +252,6 @@
  - &#96;toggleTrueValue?&#96;: Valor quando o toggle switch est√° ativado. Default: &#96;true&#96;. Aplic√°vel apenas para &#96;controlType: 'toggleswitch'&#96;.
  - &#96;toggleFalseValue?&#96;: Valor quando o toggle switch est√° desativado. Default: &#96;false&#96;. Aplic√°vel apenas para &#96;controlType: 'toggleswitch'&#96;.
+ - &#96;buttonConfig?&#96;: Configura√ß√£o do bot√£o para campos do tipo &#96;'input-button'&#96;. Cont√©m propriedades para personalizar o bot√£o (√≠cone, label, tooltip, posi√ß√£o, severity).
+ - &#96;buttonCallback?&#96;: Fun√ß√£o callback executada ao clicar no bot√£o do campo &#96;'input-button'&#96;. Recebe a key do campo e o valor atual como par√¢metros. Pode ser s√≠ncrona ou ass√≠ncrona (&#96;Promise&lt;void&gt;&#96;).
  
  ### De Configura√ß√£o a Formul√°rio Renderizado
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: docs/dynamic-form.md</summary>

**Chunk 1**
Lines added: 1, lines removed: 1

```diff
@@ -98,5 +98,5 @@
  ### 2. Componentes de Campo Espec√≠ficos
  
- Exemplos: &#96;InputTextFieldComponent&#96;, &#96;PasswordFieldComponent&#96;, &#96;NumberInputFieldComponent&#96;, &#96;SelectFieldComponent&#96;, &#96;DatePickerFieldComponent&#96;, &#96;TextareaFieldComponent&#96;, &#96;ToggleSwitchFieldComponent&#96;.
+ Exemplos: &#96;InputTextFieldComponent&#96;, &#96;PasswordFieldComponent&#96;, &#96;NumberInputFieldComponent&#96;, &#96;SelectFieldComponent&#96;, &#96;DatePickerFieldComponent&#96;, &#96;TextareaFieldComponent&#96;, &#96;ToggleSwitchFieldComponent&#96;, &#96;InputButtonFieldComponent&#96;.
  
  **Caracter√≠sticas Comuns**:
```

</details>

</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** ‚Ä¢ Todo List</summary>

- [x] undefined
- [x] undefined
- [x] undefined
- [x] undefined
- [x] undefined
- [x] undefined
- [-] undefined
- [ ] undefined
- [ ] undefined

</details>
</tool-use>

---



---


Adicionando o exemplo no test-form.component.ts:


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: projects/demo/src/app/test-form/test-form.component.ts</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: projects/demo/src/app/test-form/test-form.component.ts</summary>

**Chunk 1**
Lines added: 161, lines removed: undefined

```diff
@@ -897,4 +897,165 @@
      },
    ]);
+ 
+   // ============================================
+   // EXEMPLO 14: Formul√°rio com Input-Button (Busca de CEP)
+   // Demonstra o uso do campo input-button com callback
+   // ============================================
+   @ViewChild('inputButtonForm') inputButtonForm!: DynamicFormComponent;
+   inputButtonResult = signal&lt;any&gt;(null);
+   isSearching = signal&lt;boolean&gt;(false);
+ 
+   inputButtonFormConfig = signal&lt;iFormConfig[]&gt;([
+     {
+       key: 'nome',
+       label: 'Nome Completo',
+       controlType: 'text',
+       validators: [Validators.required],
+       placeholder: 'Digite seu nome',
+     },
+     {
+       key: 'cep',
+       controlType: 'input-button' as any,
+       label: 'CEP',
+       placeholder: '00000-000',
+       validators: [Validators.required, Validators.pattern(/^\d{5}-?\d{3}$/)],
+       hint: 'Digite o CEP e clique no bot√£o para buscar',
+       buttonConfig: {
+         icon: 'pi pi-search',
+         tooltip: 'Buscar endere√ßo pelo CEP',
+         position: 'right',
+         severity: 'primary',
+       },
+       buttonCallback: async (fieldKey: string, value: any) =&gt; {
+         await this.buscarCep(value);
+       },
+     } as any,
+     {
+       key: 'rua',
+       label: 'Rua',
+       controlType: 'text',
+       placeholder: 'Nome da rua',
+     },
+     {
+       key: 'bairro',
+       label: 'Bairro',
+       controlType: 'text',
+       placeholder: 'Nome do bairro',
+     },
+     {
+       key: 'cidade',
+       label: 'Cidade',
+       controlType: 'text',
+       placeholder: 'Nome da cidade',
+     },
+     {
+       key: 'estado',
+       label: 'Estado',
+       controlType: 'select',
+       options: [
+         { label: 'S√£o Paulo', value: 'SP' },
+         { label: 'Rio de Janeiro', value: 'RJ' },
+         { label: 'Minas Gerais', value: 'MG' },
+         { label: 'Paran√°', value: 'PR' },
+       ],
+       placeholder: 'Selecione o estado',
+     },
+     {
+       key: 'busca',
+       controlType: 'input-button' as any,
+       label: 'Buscar Produto',
+       placeholder: 'Digite o nome do produto',
+       hint: 'Busque produtos por nome',
+       buttonConfig: {
+         icon: 'pi pi-shopping-cart',
+         label: 'Buscar',
+         tooltip: 'Buscar produtos',
+         position: 'right',
+         severity: 'success',
+       },
+       buttonCallback: async (fieldKey: string, value: any) =&gt; {
+         await this.buscarProduto(value);
+       },
+     } as any,
+   ]);
+ 
+   async buscarCep(cep: string): Promise&lt;void&gt; {
+     if (!cep) {
+       alert('Por favor, digite um CEP');
+       return;
+     }
+ 
+     this.isSearching.set(true);
+     this.inputButtonResult.set(null);
+ 
+     try {
+       const cepLimpo = cep.replace(/\D/g, '');
+ 
+       if (cepLimpo.length !== 8) {
+         alert('CEP inv√°lido. Digite 8 d√≠gitos.');
+         return;
+       }
+ 
+       const response = await fetch(&#96;https://viacep.com.br/ws/${cepLimpo}/json/&#96;);
+       const data = await response.json();
+ 
+       if (data.erro) {
+         alert('CEP n√£o encontrado');
+         return;
+       }
+ 
+       // Preenche os campos do formul√°rio
+       this.inputButtonForm?.form.patchValue({
+         rua: data.logradouro,
+         bairro: data.bairro,
+         cidade: data.localidade,
+         estado: data.uf,
+       });
+ 
+       this.inputButtonResult.set({
+         tipo: 'CEP',
+         dados: data,
+       });
+ 
+       console.log('Endere√ßo encontrado:', data);
+     } catch (error) {
+       console.error('Erro ao buscar CEP:', error);
+       alert('Erro ao buscar CEP. Tente novamente.');
+     } finally {
+       this.isSearching.set(false);
+     }
+   }
+ 
+   async buscarProduto(termo: string): Promise&lt;void&gt; {
+     if (!termo || termo.trim().length &lt; 3) {
+       alert('Digite pelo menos 3 caracteres para buscar');
+       return;
+     }
+ 
+     this.isSearching.set(true);
+ 
+     try {
+       // Simula uma busca (em produ√ß√£o, chamaria uma API real)
+       await new Promise((resolve) =&gt; setTimeout(resolve, 1000));
+ 
+       const produtosSimulados = [
+         { id: 1, nome: &#96;${termo} Premium&#96;, preco: 99.9 },
+         { id: 2, nome: &#96;${termo} Standard&#96;, preco: 59.9 },
+         { id: 3, nome: &#96;${termo} B√°sico&#96;, preco: 29.9 },
+       ];
+ 
+       this.inputButtonResult.set({
+         tipo: 'Produtos',
+         dados: produtosSimulados,
+       });
+ 
+       console.log('Produtos encontrados:', produtosSimulados);
+     } catch (error) {
+       console.error('Erro ao buscar produtos:', error);
+       alert('Erro ao buscar produtos. Tente novamente.');
+     } finally {
+       this.isSearching.set(false);
+     }
+   }
  }
  
```

</details>

</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** ‚Ä¢ Todo List</summary>

- [x] undefined
- [x] undefined
- [x] undefined
- [x] undefined
- [x] undefined
- [x] undefined
- [x] undefined
- [-] undefined
- [ ] undefined

</details>
</tool-use>

---



---


Adicionando o exemplo no template HTML e atualizando a navega√ß√£o:


---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: projects/demo/src/app/test-form/test-form.component.html</summary>

**Chunk 1**
Lines added: 5, lines removed: undefined

```diff
@@ -29,4 +29,9 @@
              &gt;
           &lt;/li&gt;
+          &lt;li&gt;
+             &lt;a (click)="scrollToExample('exemplo-14'); $event.preventDefault()" href="#exemplo-14"
+                &gt;14. Campo Input-Button (Busca de CEP)&lt;/a
+             &gt;
+          &lt;/li&gt;
        &lt;/ul&gt;
     &lt;/nav&gt;
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** ‚Ä¢ Edit file: projects/demo/src/app/test-form/test-form.component.html</summary>

**Chunk 1**
Lines added: 25, lines removed: undefined

```diff
@@ -237,4 +237,29 @@
        &lt;/div&gt;
     &lt;/section&gt;
+ 
+    &lt;!-- ============================================ --&gt;
+    &lt;!-- EXEMPLO 14: Input-Button (Busca de CEP) --&gt;
+    &lt;!-- ============================================ --&gt;
+    &lt;section id="exemplo-14" class="example-section"&gt;
+       &lt;h2&gt;14. Campo Input-Button (Busca de CEP)&lt;/h2&gt;
+       &lt;p class="section-description"&gt;
+          Campo que combina input text com bot√£o de a√ß√£o usando InputGroup do PrimeNG. Demonstra busca de CEP e produtos com callback.
+       &lt;/p&gt;
+       &lt;div class="form-container form-grid-layout"&gt;
+          &lt;vp-dynamic-form #inputButtonForm [config]="inputButtonFormConfig()" /&gt;
+       &lt;/div&gt;
+       @if (isSearching()) {
+          &lt;div class="loading-indicator"&gt;
+             &lt;i class="pi pi-spin pi-spinner" style="font-size: 2rem"&gt;&lt;/i&gt;
+             &lt;p&gt;Buscando...&lt;/p&gt;
+          &lt;/div&gt;
+       }
+       @if (inputButtonResult()) {
+          &lt;div class="result-container"&gt;
+             &lt;h3&gt;Resultado da Busca: {{ inputButtonResult().tipo }}&lt;/h3&gt;
+             &lt;pre class="json-result"&gt;{{ inputButtonResult().dados | json }}&lt;/pre&gt;
+          &lt;/div&gt;
+       }
+    &lt;/section&gt;
  &lt;/div&gt;
  
```

</details>

</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** ‚Ä¢ Todo List</summary>

- [x] undefined
- [x] undefined
- [x] undefined
- [x] undefined
- [x] undefined
- [x] undefined
- [x] undefined
- [x] undefined
- [x] undefined

</details>
</tool-use>

---



---


Verificando erros de lint nos arquivos modificados:


---

<tool-use data-tool-type="generic" data-tool-name="read_lints">
<details>
          <summary>Tool use: **read_lints** ‚Ä¢ Read lints for 4 files</summary>
      
Lint paths:

- `projects/dynamic-form/src/lib/interfaces/form-config.interface.ts`
- `projects/dynamic-form/src/lib/fields/input-button-field.component.ts`
- `projects/dynamic-form/src/lib/components/dynamic-form/dynamic-form.component.ts`
- `projects/demo/src/app/test-form/test-form.component.ts`

Lint results


**No lint errors found**
</details>
</tool-use>

---



---


Verificando se o componente precisa de ajustes. Analisando o template do InputButtonFieldComponent para garantir que est√° correto:


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: projects/dynamic-form/src/lib/fields/input-button-field.component.ts</summary>

</details>
</tool-use>

---



---


Implementa√ß√£o conclu√≠da. Resumo do que foi feito:

## Implementa√ß√£o conclu√≠da

### 1. Interface atualizada
- Adicionado `'input-button'` ao tipo `controlType` em `iFormConfig`
- Adicionadas propriedades `buttonConfig` e `buttonCallback`

### 2. Componente criado
- Criado `InputButtonFieldComponent` em `projects/dynamic-form/src/lib/fields/input-button-field.component.ts`
- Usa `p-inputgroup` do PrimeNG
- Suporta bot√£o √† esquerda ou direita
- Integra com IftaLabel para manter consist√™ncia visual
- Executa callback ao clicar no bot√£o

### 3. Registro no DynamicFormComponent
- Importado e registrado o novo componente
- Atualizado `getResetValueForFieldType` para incluir `'input-button'`

### 4. Exporta√ß√£o p√∫blica
- Exportado no `public-api.ts`

### 5. Documenta√ß√£o atualizada
- README.md: adicionada se√ß√£o sobre o campo `input-button` com exemplos
- docs/dynamic-form.md: adicionada documenta√ß√£o detalhada do componente

### 6. Exemplo criado
- Adicionado EXEMPLO 14 no `test-form.component.ts` com:
  - Busca de CEP usando API ViaCEP
  - Busca de produtos simulada
  - Demonstra√ß√£o de callback ass√≠ncrono
- Template HTML atualizado com o novo exemplo
- Navega√ß√£o atualizada com link para o exemplo 14

### Funcionalidades implementadas
- Campo de input text com bot√£o de a√ß√£o
- Posicionamento configur√°vel do bot√£o (esquerda/direita)
- Callback executado ao clicar no bot√£o, recebendo `fieldKey` e `fieldValue`
- Suporte a √≠cones, labels e tooltips no bot√£o
- Integra√ß√£o com valida√ß√µes do formul√°rio
- Bot√£o desabilitado quando o campo est√° desabilitado

Todos os arquivos foram atualizados e n√£o h√° erros de lint. O campo `input-button` est√° pronto para uso.

---

